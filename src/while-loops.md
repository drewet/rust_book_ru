% Циклы `while`

Цикл `while` это ещё один вид конструкции цикла в Rust. Выглядит он так:

```{rust}
let mut x = 5; // mut x: u32
let mut done = false; // mut done: bool

while !done {
    x += x - 3;

    println!("{}", x);

    if x % 5 == 0 {
        done = true;
    }
}
```

Он применяется, если неизвестно сколько раз нужно выполнить тело цикла,
чтобы получить результат. При каждой итерации цикла проверяется условие, если оно
истинно, то запускается следующая итерация, иначе цикл `while` завершается.

Если вам нужен бесконечный цикл, то можете сделать условие всегда истинным:

```rust,ignore
while true {
```

Однако, для такого случая в Rust имеется ключевое слово `loop`:

```rust,ignore
loop {
```

В Rust анализатор потока управления обрабатывает конструкцию `loop` иначе, чем
`while true`, хотя для нас это одно и тоже. На данном этапе изучения Rust нам не
важно знать в чем именно различие между этими конструкциями, но если вы хотите
сделать бесконечный цикл, то используйте конструкцию `loop`, т.к. компилятор
сможет транслировать ваш код в более эффективный и безопасный машинный код.

## Управление итерацией цикла

Давайте посмотрим на цикл `while` снова:

```rust
let mut x = 5;
let mut done = false;

while !done {
    x += x - 3;

    println!("{}", x);

    if x % 5 == 0 {
        done = true;
    }
}
```

В этом примере имеется изменяемая переменная `done` типа boolean, которая
используется в условии для выхода из цикла. В Rust имеются два ключевых слова,
которые помогут нам работать с итерациями цикла: `break` и `continue`.

Мы можем переписать цикл более хорошим способом с помощью `break`, чтобы 
избавиться от переменной `done`:

```rust
let mut x = 5;

loop {
    x += x - 3;

    println!("{}", x);

    if x % 5 == 0 { break; }
}
```

Теперь мы используем бесконечный цикл `loop` и `break` для выхода из цикла.

`continue` похож на `break`, но вместо выхода из цикла переходит к следующей
итерации. Следующий пример отобразит только нечётные числа:

```rust
for x in 0..10 {
    if x % 2 == 0 { continue; }

    println!("{}", x);
}
```

Использовать `continue` и `break` можно как в циклах `while`, так и в циклах
[`for`][for].

[for]: for-loops.html
